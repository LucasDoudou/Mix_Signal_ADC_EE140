set -e
set -x

rex -dp_comm_string 1,eda-1.EECS.Berkeley.EDU,40827 -V -m -pd -I# -tech /home/ff/ee140/sp18/gpdk/gpdk045/qrc/typical -map p2elayermapfile -wee p2elayermapfile -N NET -e2 -P _resnsppoly_RES_37_rvia -Ply np_rpoly_conn -er np_rmetal2_conn,metal2_conn.den:np_rmetal1_conn,metal1_conn.den -rP res.mod -mp mprexamlsWrY np_rmetal1_conn::metal1_conn_cut::s,w:0.06,0.06,0:0.06,0.08,0:0.06,0.09,0:0.06,0.13,0:0.06,0.16,0:0.06,0.19,0:0.06,0.26,0:0.06,0.38,0:0.06,0.5,0:0.06,0.63,0:0.06,0.83,0:0.06,1,0.01:0.06,1.5,0.01:0.06,3,0.01:0.06,4.05,0.01:0.08,0.06,0.01:0.08,0.08,0.01:0.08,0.09,0.01:0.08,0.13,0:0.08,0.16,0.01:0.08,0.19,0:0.08,0.26,0:0.08,0.38,0:0.08,0.5,0:0.08,0.63,0:0.08,0.83,0:0.08,1,0.01:0.08,1.5,0.01:0.08,3,0.01:0.08,4.05,0.01:0.09,0.06,0.01:0.09,0.08,0.01:0.09,0.09,0.01:0.09,0.13,0:0.09,0.16,0.01:0.09,0.19,0:0.09,0.26,0:0.09,0.38,0:0.09,0.5,0:0.09,0.63,0:0.09,0.83,0:0.09,1,0.01:0.09,1.5,0.01:0.09,3,0.01:0.09,4.05,0.01:0.13,0.06,0.01:0.13,0.08,0.01:0.13,0.09,0.01:0.13,0.13,0:0.13,0.16,0.01:0.13,0.19,0:0.13,0.26,0:0.13,0.38,0:0.13,0.5,0:0.13,0.63,0:0.13,0.83,0:0.13,1,0.01:0.13,1.5,0.01:0.13,3,0.01:0.13,4.05,0.01:0.16,0.06,0.01:0.16,0.08,0.01:0.16,0.09,0.01:0.16,0.13,0:0.16,0.16,0.01:0.16,0.19,0:0.16,0.26,0:0.16,0.38,0:0.16,0.5,0:0.16,0.63,0:0.16,0.83,0:0.16,1,0.01:0.16,1.5,0.01:0.16,3,0.01:0.16,4.05,0.01:0.19,0.06,0.02:0.19,0.08,0.01:0.19,0.09,0.01:0.19,0.13,0:0.19,0.16,0.01:0.19,0.19,0:0.19,0.26,0:0.19,0.38,0:0.19,0.5,0:0.19,0.63,0:0.19,0.83,0:0.19,1,0.01:0.19,1.5,0.01:0.19,3,0.01:0.19,4.05,0.01:0.26,0.06,0.02:0.26,0.08,0.01:0.26,0.09,0.01:0.26,0.13,0:0.26,0.16,0.01:0.26,0.19,0:0.26,0.26,0:0.26,0.38,0:0.26,0.5,0:0.26,0.63,0:0.26,0.83,0:0.26,1,0.01:0.26,1.5,0.01:0.26,3,0.01:0.26,4.05,0.01:0.38,0.06,0.02:0.38,0.08,0.01:0.38,0.09,0.01:0.38,0.13,0:0.38,0.16,0.01:0.38,0.19,0:0.38,0.26,0:0.38,0.38,0:0.38,0.5,0:0.38,0.63,0:0.38,0.83,0:0.38,1,0.01:0.38,1.5,0.01:0.38,3,0.01:0.38,4.05,0.01:0.63,0.06,0.02:0.63,0.08,0.01:0.63,0.09,0.01:0.63,0.13,0:0.63,0.16,0.01:0.63,0.19,0:0.63,0.26,0:0.63,0.38,0:0.63,0.5,0:0.63,0.63,0:0.63,0.83,0:0.63,1,0.01:0.63,1.5,0.01:0.63,3,0.01:0.63,4.05,0.01:0.83,0.06,0.02:0.83,0.08,0.01:0.83,0.09,0.01:0.83,0.13,0:0.83,0.16,0.01:0.83,0.19,0:0.83,0.26,0:0.83,0.38,0:0.83,0.5,0:0.83,0.63,0:0.83,0.83,0:0.83,1,0.01:0.83,1.5,0.01:0.83,3,0.01:0.83,4.05,0.01:1.5,0.06,0.02:1.5,0.08,0.01:1.5,0.09,0.01:1.5,0.13,0:1.5,0.16,0.01:1.5,0.19,0:1.5,0.26,0:1.5,0.38,0:1.5,0.5,0:1.5,0.63,0:1.5,0.83,0:1.5,1,0.01:1.5,1.5,0.01:1.5,3,0.01:1.5,4.05,0.01:3,0.06,0.02:3,0.08,0.01:3,0.09,0.01:3,0.13,0:3,0.16,0.01:3,0.19,0:3,0.26,0:3,0.38,0:3,0.5,0:3,0.63,0:3,0.83,0:3,1,0.01:3,1.5,0.01:3,3,0.01:3,4.05,0.01:5,0.06,0.02:5,0.08,0.01:5,0.09,0.01:5,0.13,0:5,0.16,0.01:5,0.19,0:5,0.26,0:5,0.38,0:5,0.5,0:5,0.63,0:5,0.83,0:5,1,0.01:5,1.5,0.01:5,3,0.01:5,4.05,0.01 - rcont_poly,1,T rcont_pdiff_metal1_conn_pdiff_conn,1,t rcont_ndiff_metal1_conn_ndiff_conn,1,t rVia1,1,x - L2T0,1,I

rex -dp_comm_string 2,eda-1.EECS.Berkeley.EDU,40827 -V -m -pd -I# -tech /home/ff/ee140/sp18/gpdk/gpdk045/qrc/typical -map p2elayermapfile -wee p2elayermapfile -N NET -e2 -P _resnsppoly_RES_37_rvia -Ply np_rpoly_conn -er np_rmetal2_conn,metal2_conn.den:np_rmetal1_conn,metal1_conn.den -rP res.mod -mp mprexaLs9WRd np_rpoly_conn::poly_conn_cut::-0.003 - _resnsppoly_RES_37_rvia,1,z _nmos1v_MOS_2_mgvia,1,z rcont_poly,1,x

rex -dp_comm_string 3,eda-1.EECS.Berkeley.EDU,40827 -V -m -pd -I# -tech /home/ff/ee140/sp18/gpdk/gpdk045/qrc/typical -map p2elayermapfile -wee p2elayermapfile -N NET -e2 -P _resnsppoly_RES_37_rvia -Ply np_rpoly_conn -er np_rmetal2_conn,metal2_conn.den:np_rmetal1_conn,metal1_conn.den -rP res.mod -mp mprexafsxpL5 np_rmetal2_conn::metal2_conn_cut::s,w:0.06,0.06,0:0.06,0.08,0:0.06,0.09,0:0.06,0.13,0:0.06,0.16,0:0.06,0.19,0:0.06,0.26,0:0.06,0.38,0:0.06,0.5,0:0.06,0.63,0:0.06,0.83,0:0.06,1,0:0.06,1.5,0:0.06,3,0:0.06,4.05,0:0.08,0.06,0:0.08,0.08,0:0.08,0.09,0:0.08,0.13,0:0.08,0.16,0:0.08,0.19,0:0.08,0.26,0:0.08,0.38,0:0.08,0.5,0:0.08,0.63,0:0.08,0.83,0:0.08,1,0:0.08,1.5,0:0.08,3,0:0.08,4.05,0:0.09,0.06,0:0.09,0.08,0:0.09,0.09,0:0.09,0.13,0:0.09,0.16,0:0.09,0.19,0:0.09,0.26,0:0.09,0.38,0:0.09,0.5,0:0.09,0.63,0:0.09,0.83,0:0.09,1,0:0.09,1.5,0:0.09,3,0:0.09,4.05,0:0.13,0.06,0.01:0.13,0.08,0.01:0.13,0.09,0.01:0.13,0.13,0:0.13,0.16,0:0.13,0.19,0:0.13,0.26,0:0.13,0.38,0:0.13,0.5,0:0.13,0.63,0:0.13,0.83,0:0.13,1,0:0.13,1.5,0:0.13,3,0:0.13,4.05,0:0.16,0.06,0.01:0.16,0.08,0.01:0.16,0.09,0.01:0.16,0.13,0:0.16,0.16,0:0.16,0.19,0:0.16,0.26,0:0.16,0.38,0:0.16,0.5,0:0.16,0.63,0:0.16,0.83,0:0.16,1,0:0.16,1.5,0:0.16,3,0:0.16,4.05,0:0.19,0.06,0.01:0.19,0.08,0.01:0.19,0.09,0.01:0.19,0.13,0:0.19,0.16,0:0.19,0.19,0:0.19,0.26,0:0.19,0.38,0:0.19,0.5,0:0.19,0.63,0:0.19,0.83,0:0.19,1,0:0.19,1.5,0:0.19,3,0:0.19,4.05,0:0.26,0.06,0.01:0.26,0.08,0.01:0.26,0.09,0.01:0.26,0.13,0:0.26,0.16,0:0.26,0.19,0:0.26,0.26,0:0.26,0.38,0:0.26,0.5,0:0.26,0.63,0:0.26,0.83,0:0.26,1,0:0.26,1.5,0:0.26,3,0:0.26,4.05,0:0.38,0.06,0.01:0.38,0.08,0.01:0.38,0.09,0.01:0.38,0.13,0:0.38,0.16,0:0.38,0.19,0:0.38,0.26,0:0.38,0.38,0:0.38,0.5,0:0.38,0.63,0:0.38,0.83,0:0.38,1,0:0.38,1.5,0:0.38,3,0:0.38,4.05,0:0.63,0.06,0.01:0.63,0.08,0.01:0.63,0.09,0.01:0.63,0.13,0:0.63,0.16,0:0.63,0.19,0:0.63,0.26,0:0.63,0.38,0:0.63,0.5,0:0.63,0.63,0:0.63,0.83,0:0.63,1,0:0.63,1.5,0:0.63,3,0:0.63,4.05,0:0.83,0.06,0.01:0.83,0.08,0.01:0.83,0.09,0.01:0.83,0.13,0:0.83,0.16,0:0.83,0.19,0:0.83,0.26,0:0.83,0.38,0:0.83,0.5,0:0.83,0.63,0:0.83,0.83,0:0.83,1,0:0.83,1.5,0:0.83,3,0:0.83,4.05,0:1.5,0.06,0.01:1.5,0.08,0.01:1.5,0.09,0.01:1.5,0.13,0:1.5,0.16,0:1.5,0.19,0:1.5,0.26,0:1.5,0.38,0:1.5,0.5,0:1.5,0.63,0:1.5,0.83,0:1.5,1,0:1.5,1.5,0:1.5,3,0:1.5,4.05,0:3,0.06,0.01:3,0.08,0.01:3,0.09,0.01:3,0.13,0:3,0.16,0:3,0.19,0:3,0.26,0:3,0.38,0:3,0.5,0:3,0.63,0:3,0.83,0:3,1,0:3,1.5,0:3,3,0:3,4.05,0:5,0.06,0.01:5,0.08,0.01:5,0.09,0.01:5,0.13,0:5,0.16,0:5,0.19,0:5,0.26,0:5,0.38,0:5,0.5,0:5,0.63,0:5,0.83,0:5,1,0:5,1.5,0:5,3,0:5,4.05,0 - rVia1,1,T - L1T0,1,I

rexmerge -V -N NET -n mprexaLs9WRd,mprexamlsWrY,mprexafsxpL5 -b np_rpoly_conn::Rnp_rpoly_conn.dev2,np_rmetal1_conn::Rnp_rmetal1_conn.dev2,np_rmetal2_conn::Rnp_rmetal2_conn.dev2 -l ,L2T0,L1T0 np_rpoly_conn.res,np_rmetal1_conn.res,np_rmetal2_conn.res

